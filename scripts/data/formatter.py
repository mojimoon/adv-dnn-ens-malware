import os
import pandas as pd

pwd = os.path.dirname(os.path.realpath(__file__))

input_file = os.path.join(pwd, 'test_set_distributions_acc.csv')

data = pd.read_csv(input_file)

# Pivot the DataFrame to get the desired format
table = data.pivot(index='id_ratio', columns='method', values='accuracy')

# Fill missing values with NaN (optional)
table = table.fillna('')

# Display the table
print(table)

# Optionally, save to a CSV file
table.to_csv('formatted_table.csv')